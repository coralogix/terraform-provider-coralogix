---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "coralogix_events2metric Resource - terraform-provider-coralogix"
subcategory: ""
description: "Coralogix events2metric. More info:-https://coralogix.com/docs/event2metrics/"
  
---

# coralogix_events2metric (Resource)

## Example Usage of events2metric with logs_query option

```hcl
resource "coralogix_events2metric" "logs2metric" {
  name        = "logs2metricExample"
  description = "logs2metric from coralogix terraform provider"

  logs_query {
    lucene       = "remote_addr_enriched:/.*/"
    applications = ["filter:startsWith:nginx"] //change here for existing applications from your account
    severities   = ["Debug"]
  }

  metric_fields {
    target_base_metric_name = "method"
    source_field            = "method" //change here for existing source field from your account
  }
  metric_fields {
    target_base_metric_name = "geo_point"
    source_field            = "remote_addr_geoip.location_geopoint"
    //change here for existing source field from your account
  }

  metric_labels {
    target_label = "Status"
    source_field = "status" //change here for existing source field from your account
  }
  metric_labels {
    target_label = "Path"
    source_field = "http_referer" //change here for existing source field from your account
  }

  permutations {
    limit = 20000
  }
}
```

## Example Usage of events2metric with spans_query option

```hcl
resource "coralogix_events2metric" "spans2metric" {
  name        = "spans2metricExample"
  description = "spans2metric from coralogix terraform provider"

  spans_query {
    lucene       = "remote_addr_enriched:/.*/"
    applications = ["filter:startsWith:nginx"] //change here for existing applications from your account
    actions      = ["action-name"]
    services     = ["service-name"]
  }

  metric_fields {
    target_base_metric_name = "method"
    source_field            = "method" //change here for existing source field from your account
  }
  metric_fields {
    target_base_metric_name = "geo_point"
    source_field            = "remote_addr_geoip.location_geopoint"
    //change here for existing source field from your account
  }

  metric_labels {
    target_label = "Status"
    source_field = "status" //change here for existing source field from your account
  }
  metric_labels {
    target_label = "Path"
    source_field = "http_referer" //change here for existing source field from your account
  }

  permutations {
    limit = 20000
  }
}
```



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Events2Metric name. Log2Metric names have to be unique per account.

### Optional

- `description` (String) Events2Metric description.
- `logs_query` (Block List, Max: 1) logs-events2metric type. Exactly one of "spans_query" or "logs_query" should be defined. (see [below for nested schema](#nestedblock--logs_query))
- `metric_fields` (Block Set) (see [below for nested schema](#nestedblock--metric_fields))
- `metric_labels` (Block Set) (see [below for nested schema](#nestedblock--metric_labels))
- `permutations` (Block List, Max: 1) defines the permutations' info of the events2metric. (see [below for nested schema](#nestedblock--permutations))
- `spans_query` (Block List, Max: 1) spans-events2metric type. Exactly one of "spans_query" or "logs_query" should be defined. (see [below for nested schema](#nestedblock--spans_query))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--logs_query"></a>
### Nested Schema for `logs_query`

Optional:

- `applications` (Set of String) An array that contains log’s application names that we want to be alerted on. Applications can be filtered by prefix, suffix, and contains using the next patterns - filter:startsWith:xxx, filter:endsWith:xxx, filter:contains:xxx
- `lucene` (String) The search_query that we wanted to be notified on.
- `severities` (Set of String) An array of severities that we interested in. Can be one of ["Info" "Warning" "Error" "Critical" "Unspecified" "Debug" "Verbose"]
- `subsystems` (Set of String) An array that contains log’s subsystem names that we want to be notified on.  Subsystems can be filtered by prefix, suffix, and contains using the next patterns - filter:startsWith:xxx, filter:endsWith:xxx, filter:contains:xxx


<a id="nestedblock--metric_fields"></a>
### Nested Schema for `metric_fields`

Required:

- `source_field` (String)
- `target_base_metric_name` (String)

Optional:

- `aggregations` (Block List, Max: 1) For each metric, you can choose an aggregation function that will aggregate the stream of the data and calculate Max/Min/Count/Avg/Sum/Histogram/Samples in 1 minute granularity. (see [below for nested schema](#nestedblock--metric_fields--aggregations)). **Please note** - we are currently have [issue with updates of this field](../../known-issues.md).

<a id="nestedblock--metric_fields--aggregations"></a>
### Nested Schema for `metric_fields.aggregations`

Optional:

- `avg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--metric_fields--aggregations--avg))
- `count` (Block List, Max: 1) (see [below for nested schema](#nestedblock--metric_fields--aggregations--count))
- `histogram` (Block List, Max: 1) (see [below for nested schema](#nestedblock--metric_fields--aggregations--histogram))
- `max` (Block List, Max: 1) (see [below for nested schema](#nestedblock--metric_fields--aggregations--max))
- `min` (Block List, Max: 1) (see [below for nested schema](#nestedblock--metric_fields--aggregations--min))
- `samples` (Block List, Max: 1) (see [below for nested schema](#nestedblock--metric_fields--aggregations--samples))
- `sum` (Block List, Max: 1) (see [below for nested schema](#nestedblock--metric_fields--aggregations--sum))

<a id="nestedblock--metric_fields--aggregations--avg"></a>
### Nested Schema for `metric_fields.aggregations.avg`

Optional:

- `enable` (Boolean)

Read-Only:

- `target_metric_name` (String)


<a id="nestedblock--metric_fields--aggregations--count"></a>
### Nested Schema for `metric_fields.aggregations.count`

Optional:

- `enable` (Boolean)

Read-Only:

- `target_metric_name` (String)


<a id="nestedblock--metric_fields--aggregations--histogram"></a>
### Nested Schema for `metric_fields.aggregations.histogram`

Required:

- `buckets` (List of Number)

Optional:

- `enable` (Boolean)

Read-Only:

- `target_metric_name` (String)


<a id="nestedblock--metric_fields--aggregations--max"></a>
### Nested Schema for `metric_fields.aggregations.max`

Optional:

- `enable` (Boolean)

Read-Only:

- `target_metric_name` (String)


<a id="nestedblock--metric_fields--aggregations--min"></a>
### Nested Schema for `metric_fields.aggregations.min`

Optional:

- `enable` (Boolean)

Read-Only:

- `target_metric_name` (String)


<a id="nestedblock--metric_fields--aggregations--samples"></a>
### Nested Schema for `metric_fields.aggregations.samples`

Required:

- `type` (String) Can be one of ["Min" "Max"].

Optional:

- `enable` (Boolean)

Read-Only:

- `target_metric_name` (String)


<a id="nestedblock--metric_fields--aggregations--sum"></a>
### Nested Schema for `metric_fields.aggregations.sum`

Optional:

- `enable` (Boolean)

Read-Only:

- `target_metric_name` (String)




<a id="nestedblock--metric_labels"></a>
### Nested Schema for `metric_labels`

Required:

- `source_field` (String)
- `target_label` (String)


<a id="nestedblock--permutations"></a>
### Nested Schema for `permutations`

Optional:

- `limit` (Number) defines the permutations' limit of the events2metric.

Read-Only:

- `has_exceed_limit` (Boolean) notify if the limit permutations' limit of the events2metric has exceed (computed).


<a id="nestedblock--spans_query"></a>
### Nested Schema for `spans_query`

Optional:

- `actions` (Set of String) An array that contains log’s actions names that we want to be notified on.  Actions can be filtered by prefix, suffix, and contains using the next patterns - filter:startsWith:xxx, filter:endsWith:xxx, filter:contains:xxx
- `applications` (Set of String) An array that contains log’s application names that we want to be alerted on. Applications can be filtered by prefix, suffix, and contains using the next patterns - filter:startsWith:xxx, filter:endsWith:xxx, filter:contains:xxx
- `lucene` (String) The search_query that we wanted to be notified on.
- `services` (Set of String) An array that contains log’s services names that we want to be notified on.  Services can be filtered by prefix, suffix, and contains using the next patterns - filter:startsWith:xxx, filter:endsWith:xxx, filter:contains:xxx
- `subsystems` (Set of String) An array that contains log’s subsystem names that we want to be notified on.  Subsystems can be filtered by prefix, suffix, and contains using the next patterns - filter:startsWith:xxx, filter:endsWith:xxx, filter:contains:xxx


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)


