---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "coralogix_slo_v2 Resource - terraform-provider-coralogix"
subcategory: ""
description: |-
  Coralogix New SLO.
---

# coralogix_slo_v2 (Resource)

Coralogix New SLO.

## Example Usage

```terraform
terraform {
  required_providers {
    coralogix = {
      version = "~> 2.0"
      source  = "coralogix/coralogix"
    }
  }
}

provider "coralogix" {
  #api_key = "<add your api key here or add env variable CORALOGIX_API_KEY>"
  #env = "<add the environment you want to work at or add env variable CORALOGIX_ENV>"
}

resource "coralogix_slo_v2" "example_request_based_slo" {
  name                        = "coralogix_slo_go_example"
  description                 = "Example SLO for Coralogix using request-based metrics"
  target_threshold_percentage = 30.5
  labels = {
    label1 = "value1"
  }
  sli = {
    request_based_metric_sli = {
      good_events = {
        query = "avg(rate(cpu_usage_seconds_total[5m])) by (instance)"
      }
      total_events = {
        query = "avg(rate(cpu_usage_seconds_total[5m])) by (instance)"
      }
    }
  }

  window = {
    slo_time_frame = "7_days"
  }
}

resource "coralogix_slo_v2" "example_window_based_slo" {
  name                        = "coralogix_window_based_slo"
  description                 = "Example SLO using window-based metrics"
  target_threshold_percentage = 95
  labels = {
    env     = "prod"
    service = "api"
  }
  sli = {
    window_based_metric_sli = {
      query = {
        query = "avg(avg_over_time(request_duration_seconds[1m]))"
      }
      window              = "1_minute"
      comparison_operator = "less_than"
      threshold           = 0.232
    }
  }
  window = {
    slo_time_frame = "28_days"
  }
}

resource "coralogix_alert" "slo_alert_burn_rate" {
  name        = "SLO burn rate alert"
  description = "Alert based on SLO burn rate threshold"
  phantom_mode = false
  labels = {
    alert_type        = "security"
    security_severity = "high"
  }
  notification_group = {
    webhooks_settings = [{
      retriggering_period = {
        minutes = 5
      }
      notify_on  = "Triggered and Resolved"
      recipients = ["example@coralogix.com"]
    }]
  }
  schedule = {
    active_on = {
      days_of_week = ["Wednesday", "Thursday"]
      start_time   = "08:30"
      end_time     = "20:30"
    }
  }
  type_definition = {
    slo_threshold = {
      slo_definition = {
        slo_id = coralogix_slo_v2.example_request_based_slo.id
      }
      burn_rate = {
        rules = [
          {
            condition = {
              threshold = 1.0
            }
            override = {
              priority = "P1"
            }
          },
          {
            condition = {
              threshold = 1.3
            }
            override = {
              priority = "P2"
            }
          }
        ]
        single = {
          time_duration = {
            duration = 1
            unit     = "HOURS"
          }
        }
      }
    }
  }
}

resource "coralogix_alert" "slo_alert_error_budget" {
  name         = "SLO error budget alert"
  description  = "Alert based on SLO error budget threshold"
  phantom_mode = false
  labels = {
    alert_type        = "performance"
    security_severity = "medium"
  }
  notification_group = {
    webhooks_settings = [{
      retriggering_period = {
        minutes = 10
      }
      notify_on  = "Triggered and Resolved"
      recipients = ["example@coralogix.com"]
    }]
  }
  schedule = {
    active_on = {
      days_of_week = ["Monday", "Friday"]
      start_time   = "09:00"
      end_time     = "18:00"
    }
  }
  type_definition = {
    slo_threshold = {
      slo_definition = {
        slo_id = coralogix_slo_v2.example_window_based_slo.id
      }
      error_budget = {
        rules = [{
          condition = {
            threshold = 0.8
          }
          override = {
            priority = "P2"
          }
        }]
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) SLO name.
- `sli` (Attributes) SLI definition: exactly one of request_based_metric_sli or window_based_metric_sli must be provided. (see [below for nested schema](#nestedatt--sli))
- `target_threshold_percentage` (Number) The target threshold percentage.
- `window` (Attributes) SLO time window. One of: 14_days, 21_days, 28_days, 7_days, unspecified. (see [below for nested schema](#nestedatt--window))

### Optional

- `description` (String) Optional SLO description.
- `labels` (Map of String) Optional map of labels to attach to the SLO.

### Read-Only

- `grouping` (Attributes) Optional grouping configuration for SLO evaluations. (see [below for nested schema](#nestedatt--grouping))
- `id` (String) SLO ID.

<a id="nestedatt--sli"></a>
### Nested Schema for `sli`

Optional:

- `request_based_metric_sli` (Attributes) SLI based on request metrics. (see [below for nested schema](#nestedatt--sli--request_based_metric_sli))
- `window_based_metric_sli` (Attributes) SLI based on time-window metrics. (see [below for nested schema](#nestedatt--sli--window_based_metric_sli))

<a id="nestedatt--sli--request_based_metric_sli"></a>
### Nested Schema for `sli.request_based_metric_sli`

Required:

- `good_events` (Attributes) Query defining good events. (see [below for nested schema](#nestedatt--sli--request_based_metric_sli--good_events))
- `total_events` (Attributes) Query defining total events. (see [below for nested schema](#nestedatt--sli--request_based_metric_sli--total_events))

<a id="nestedatt--sli--request_based_metric_sli--good_events"></a>
### Nested Schema for `sli.request_based_metric_sli.good_events`

Required:

- `query` (String) Query string for good events.


<a id="nestedatt--sli--request_based_metric_sli--total_events"></a>
### Nested Schema for `sli.request_based_metric_sli.total_events`

Required:

- `query` (String) Query string for total events.



<a id="nestedatt--sli--window_based_metric_sli"></a>
### Nested Schema for `sli.window_based_metric_sli`

Required:

- `comparison_operator` (String) Comparison operator used to evaluate the threshold. One of: greater_than,greater_than_or_equals,less_than,less_than_or_equals,unspecified
- `query` (Attributes) Query used for evaluating the time-window SLI. (see [below for nested schema](#nestedatt--sli--window_based_metric_sli--query))
- `threshold` (Number) Threshold value for the comparison.
- `window` (String) Time window type for evaluation. One of: 1_minute, 5_minutes, unspecified.

<a id="nestedatt--sli--window_based_metric_sli--query"></a>
### Nested Schema for `sli.window_based_metric_sli.query`

Required:

- `query` (String) Query string for the metric.




<a id="nestedatt--window"></a>
### Nested Schema for `window`

Required:

- `slo_time_frame` (String) SLO time window. One of: 14_days, 21_days, 28_days, 7_days, unspecified.


<a id="nestedatt--grouping"></a>
### Nested Schema for `grouping`

Read-Only:

- `labels` (List of String) List of labels to group SLO evaluations by.
